<!DOCTYPE html>
<html><head>
   <link rel="icon" type="image/png" sizes="32x32" href="../../../favicon-32x32.png">
   <link rel="icon" type="image/png" sizes="16x16" href="../../../favicon-16x16.png">
   <link href="https://fonts.googleapis.com/css?family=Archivo" rel="stylesheet"> 
   <link href="https://fonts.googleapis.com/css?family=Barlow+Condensed" rel="stylesheet">
   <script src="../../../js/vendor/lunr/lunr.min.js"></script>
   
   
   
   
   <link rel="stylesheet" href="../../../scss/main.css">
   <title>HOT Toolbox</title>
</head><body data-site-url='https://toolbox.hotosm.org'  data-default-lang='en' data-lang='en'   ><header class="header" >
    <div class="header__container">
        <img src="https://toolbox.hotosm.org/svg/hot-logo-red.svg" alt="hot logo"><a href="https://toolbox.hotosm.org" class="no-underline"><h4 class="title site-title">HOT Toolbox</h4></a>
        <div>
        
    </div><ul class="browse-select-options browse-select-options--hidden js-browse-select-options">

</ul></div>
        
        <a class="hotosm-link" href="https://hotosm.org">hotosm.org</a> 
        <div class="hamburger-icon"></div>
    </div>
</header>

<div class="main">
    <aside class="menu">
        <div class="menu__container">


<h2 class="title">HOT Toolbox</h2> 

<div>
    
    
    <div class="js-language-select language-select">
        
            
        
            
                English 
            
        
    </div>
    
    <ul class="js-language-select-options language-select-options language-select-options--hidden">
            
            
            <li>
            
        <a href="https://toolbox.hotosm.org/fr/pages/data-use-and-analysis/7.2-creating-an-atlas-in-qgis/" class="language-select-option
        
        ">Fran√ßais  </a>
        
    </li>
        
            
            <li>
            
        <a href="https://toolbox.hotosm.org/pages/data-use-and-analysis/7.2-creating-an-atlas-in-qgis/" class="language-select-option 
        
        language-select-option--selected
        
        ">English</a>
        
    </li>
        
    </ul>
</div>






<input class="search" type="text" placeholder="Search documentation">
<div class="search-results">
    <ul class="results-list"></ul>
</div>




    

        <div class="
        
        accordion accordion--closed
        
        ">
            Introduction to the Toolbox
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/introduction/how_to_use_toolbox/" class="menu-link">How to use the HOT Toolbox</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Designing and Coordinating a Mapping Project
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.0-overview-designing-coordinating/" class="menu-link">1.0 Introduction to Designing a Mapping Project</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.1_defining_needs_and_requirements/" class="menu-link">1.1 Defining Needs and Requirements</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.2_field_operations-safety_security_and_logistics/" class="menu-link">1.2 Safety, Security, and Logistics</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.3-hardware/" class="menu-link">1.3 Selecting Hardware</a></li>
                    
                        <li class="page"><a href="../../../pages/running-a-mapping-project/1.4-trainings-and-workshops/" class="menu-link">1.4 Trainings and Workshops</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Digitization and Editing in OSM
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.0-digitization-and-editing/" class="menu-link">2.0 Introduction to Digitization and Editing in OSM</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.1_introduction_to_openstreetmap/" class="menu-link">2.1 Introduction to OpenStreetMap</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.2_organized_osm_editing/" class="menu-link">2.2 Organized OSM Editing</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.3-working-with-the-hot-tasking-manager/" class="menu-link">2.3 Working with the HOT Tasking Manager</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.4-editing-with-id-and-josm/" class="menu-link">2.4 Editing with iD and JOSM</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.5_validating_with_josm/" class="menu-link">2.5 Validating with JOSM</a></li>
                    
                        <li class="page"><a href="../../../pages/digitization-and-editing/2.6-data-conflict-in-josm/" class="menu-link">2.6 Resolving conflicts in JOSM</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Field Mapping Technical Set-up
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.0_technical_set-up/" class="menu-link">3.0 Introduction to Technical Set-up for Field Mapping</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.1-designing-the-data-model/" class="menu-link">3.1 Designing The Data Model</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.2-data-collection-applications/" class="menu-link">3.2 Data collection applications</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.2.1_setting_up_odk/" class="menu-link">3.2.1 Setting up OpenDataKit</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.2.2_setting_up_omk/" class="menu-link">3.2.2 Setting up OpenMapKit</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.3-navigation-applications/" class="menu-link">3.3 Navigation Applications</a></li>
                    
                        <li class="page"><a href="../../../pages/data-collection-and-field-mapping/3.4-data-collection-servers/" class="menu-link">3.4 Data Collection Servers</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Field Mapping Management
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/4.0-field-mapping-management/" class="menu-link">4.0 Introduction to Field Mapping Management</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/4.1_managing_teams_in_the_field/" class="menu-link">4.1 Managing Teams in the Field</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/4.2_using_odk_collect/" class="menu-link">4.2 Using ODK Collect</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/4.3_using_openmapkit/" class="menu-link">4.3 Using OpenMapKit</a></li>
                    
                        <li class="page"><a href="../../../pages/field-mapping-management/4.4_using_osm_tracker/" class="menu-link">4.4 Using OSMTracker</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Data Cleaning, Upload, and Quality Assurance
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/5.0-data-cleaning-qa/" class="menu-link">5.0 Introduction to Data Cleaning, Upload, and Quality Assurance</a></li>
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/5.1-data-cleaning-with-josm/" class="menu-link">5.1 Data Cleaning with JOSM</a></li>
                    
                        <li class="page"><a href="../../../pages/data-cleaning-upload-and-quality-assurance/5.2-quality-assurance-tools/" class="menu-link">5.2 Quality Assurance and Quality Control Tools</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Data Export Tools
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-export/6.0-data-export-tools/" class="menu-link">6.0 Introduction to Data Export Tools</a></li>
                    
                        <li class="page"><a href="../../../pages/data-export/6.1-hot-export-tool/" class="menu-link">6.1 HOT Export Tool</a></li>
                    
                        <li class="page"><a href="../../../pages/data-export/6.2-hdx/" class="menu-link">6.2 Humanitarian Data Exchange</a></li>
                    
                        <li class="page"><a href="../../../pages/data-export/6.3-export-aoi-and-feature-selction/" class="menu-link">6.3 Creating Exports of a TM Project</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--open
        
        ">
            Data Use and Analysis
        </div>
        <div class="panel
        
        panel--open
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/7.0_data-use-and-analysis/" class="menu-link">7.0 Data Use and Analysis</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/7.1-qgis/" class="menu-link">7.1 Introduction to QGIS</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/7.2-creating-an-atlas-in-qgis/" class="menu-link menu-link--active">7.2 Creating Maps and Atlases in QGIS</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/7.3_web_and_interactive_maps/" class="menu-link">7.3 Web &amp; Interactive Maps</a></li>
                    
                        <li class="page"><a href="../../../pages/data-use-and-analysis/7.4-qgis-workflows-for-disaster-mapping/" class="menu-link">7.4 QGIS Workflows for Disaster Mapping</a></li>
                    
                </ul>
            </div>
    

        <div class="
        
        accordion accordion--closed
        
        ">
            Mapping Project Workflows
        </div>
        <div class="panel
        
        panel--closed
        ">
                <ul class="page-list">
                    
                        <li class="page"><a href="../../../pages/getting_started/8.0_mapping_workflows/" class="menu-link">8.0 Introduction to Mapping Workflows</a></li>
                    
                        <li class="page"><a href="../../../pages/getting_started/8.1_example_fieldmappingbuildings_poi/" class="menu-link">8.1 Mapping Buildings and POI with OMK</a></li>
                    
                        <li class="page"><a href="../../../pages/getting_started/8.2_mappingpoi_withodk/" class="menu-link">8.2 Mapping POI with ODK &#43; KoboToolbox Server</a></li>
                    
                </ul>
            </div>
    

<a class="pdf-download"  
    
    href="../../../pdfs/en/HOT_Toolbox.pdf">
    

    <div>
        <div class="title">Download the entire file</div>
        <div class="sub-title sub-title-12">pdf</div>
    </div>
</a></div>
    </aside>
    <main class="article"><div class="article__container">

 
   <div class="git-info">
<div class="">
  
  <div>
    
    <a href="https://github.com/hotosm/toolbox/commit/85bfbdcac005103ef458ceb79bf7b35cb4e0a4b5" class="sub-title sub-title-14" title='Last modified November 27, 2019 by jessbeutler' target="_blank" rel="noopener">
      Last modified: November 27, 2019
    </a>
  </div>
  
</div>
</div>
    <div class="article-body">
           <h1 class="page-title">7.2 Creating Maps and Atlases in QGIS</h1><p>This section covers the skills necessary to create maps and atlases in QGIS:</p>
<ul>
<li>Preparing map data</li>
<li>Creating a Map Layout</li>
<li>Atlas navigation and creation</li>
<li>Creating map and atlas templates</li>
</ul>
<!-- raw HTML omitted -->
<h2 id="overview">Overview</h2>
<p>Creating an atlas in QGIS allows users to create a series of maps for geographic regions with a set template. This atlas template allows for a large number of maps to be generated for areas of interest, such as districts, wards, and other administrative areas, with the same style and layout.</p>
<p><strong>HOT Project Examples:</strong></p>
<ul>
<li><a href="https://drive.google.com/file/d/1yQK8wjZK2mMtGVc3G6srNKHlf0SZTyv1/view?usp=sharing">Open Cities in Monrovia, Liberia</a></li>
<li><a href="https://drive.google.com/file/d/143pmRsdrJoyzlEisY0vTCQqs8qAM03Dy/view">LEGIT in Liberia</a></li>
<li><a href="http://ramanihuria.org/data/">Ramani Huria in Dar es Salaam, Tanzania</a> (Dar es Salaam, Tanzania)</li>
</ul>
<!-- raw HTML omitted -->
<h2 id="resources-and-training-materials">Resources and Training Materials</h2>
<p>This section features a selection of resources targeted at project managers, trainers, or even self-learners on the topic(s) outlined above.</p>
<p><img src="../../../images/learning_icon_wide.PNG" alt="">
<em>The following section is designed to serve as self-paced material that can be used both during trainings, and by self-guided learners.</em></p>
<p>The following guide provides instructions and screenshots from QGIS 3.4. Versions before or after may have different icons and steps.</p>
<p><strong>Skills and technology needed:</strong></p>
<ul>
<li>Installation of QGIS</li>
<li>Navigating QGIS and adding data</li>
<li>GIS data files (i.e. shapefiles, geojson)
<ul>
<li>Example shapefiles <a href="https://drive.google.com/open?id=1eEzawHzEueVOBuRNJwpX_YeynTOnrbDs">zip</a></li>
</ul>
</li>
</ul>
<p>This activity covers the process of generating and configuring a map and atlas in print layout. Example shapefiles are provided for this activity but can be followed with shapefiles provided by the user.</p>
<h3 id="1-preparing-map-data">1. Preparing map data</h3>
<p>Before creating an atlas, you will need to add and style layers. While styling layers, you will need to consider how the layers will look in print composer. As maps in the atlas may be at varying scales, it may be necessary to return to styling after generating the atlas to make adjustments.</p>
<p>To follow along with the practice steps, add the following vector data to your map:</p>
<ul>
<li>Dar_sub-wards_EPSG_4326</li>
<li>Dar_wards_EPSG_4326</li>
</ul>
<p>Change the background color of the project. Open the ‚ÄòProject‚Äô menu from the top toolbar, select ‚ÄòProperties‚Äô. Under general settings, change the background color to blue.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial1.gif" alt=""></p>
<p>Style the ward layer (Dar_wards_EPSG_4326) by right-clicking on the name in the Layers Panel and selecting ‚ÄòProperties‚Äô. In the pop-up window, select ‚ÄòStyle‚Äô from the side menu. Style as described below:</p>
<ul>
<li>Select ‚ÄòSimple Fill‚Äô from the upper left window.</li>
<li>Change ‚ÄòSymbol layer type‚Äô to ‚ÄòOutline: Simple Line‚Äô</li>
<li>Change the color to purple.</li>
<li>Change the ‚ÄòPen style‚Äô to ‚ÄòDash Dot Line‚Äô</li>
<li>Select ‚ÄòApply‚Äô and then ‚ÄòOK‚Äô.</li>
</ul>
<p>Duplicate the ward layer (Dar_wards_EPSG_4326) by right-clicking on the name in the Layers Panel and selecting ‚ÄòDuplicate‚Äô. Right-click on the copy layer and select rename. Rename this layer as ‚ÄòWard_grey_background‚Äô.</p>
<p>Style the ‚ÄòWard_grey_background‚Äô layer by right-clicking on the name in the Layers Panel and selecting ‚ÄòProperties‚Äô. In the pop-up window, select ‚ÄòStyle‚Äô from the side menu. Style as described below:</p>
<ul>
<li>Select ‚ÄòSimple Fill‚Äô from the upper left window.</li>
<li>Change ‚ÄòSymbol layer type‚Äô to ‚ÄòSimple fill‚Äô</li>
<li>Change the color to the html code #edeae2 (or select a light grey color).</li>
<li>Change the ‚ÄòOutline style‚Äô to ‚ÄòNo pen‚Äô.</li>
<li>Select ‚ÄòApply‚Äô and then ‚ÄòOK‚Äô.</li>
</ul>
<p>Style the sub-ward layer (Dar_sub-wards_EPSG_4326) by right-clicking on the name in the Layers Panel and selecting ‚ÄòProperties‚Äô. In the pop-up window, select ‚ÄòStyle‚Äô from the side menu. Style as described below:</p>
<ul>
<li>Select ‚ÄòSimple Fill‚Äô from the upper left window.</li>
<li>Change ‚ÄòSymbol layer type‚Äô to ‚ÄòOutline: Simple Line‚Äô</li>
<li>Change the color to yellow.</li>
<li>Change the ‚ÄòPen style‚Äô to ‚ÄòDot‚Äô.</li>
<li>Select ‚ÄòApply‚Äô and then ‚ÄòOK‚Äô.</li>
</ul>
<p>After styling the sub-ward layer (Dar_sub-wards_EPSG_4326), select ‚ÄòLabels‚Äô from the side menu in ‚ÄòProperties‚Äô.</p>
<ul>
<li>In the top drop down menu, change the option from ‚ÄòNo Labels‚Äô to ‚ÄòShow labels for this layers‚Äô.</li>
<li>For ‚ÄòLabel with‚Äô, select the option ‚ÄòWard_Name‚Äô from the drop-down menu.</li>
<li>Change your ‚ÄòText‚Äô options such as font, font size, font color, etc.</li>
<li>Select ‚ÄòApply‚Äô and then ‚ÄòOK‚Äô.</li>
</ul>
<p>After styling all layers, ensure that your layers are in the following order in your layers panel. (To adjust layer ordering, left-click and hold on a layer and then drag up or down in the list.)</p>
<ul>
<li>Dar_wards_EPSG_4326</li>
<li>Dar_sub-wards_EPSG_4326</li>
<li>Ward_grey_background</li>
</ul>
<h3 id="2-creating-a-map-layout-in-print-layout">2. Creating a Map Layout in Print Layout</h3>
<p>Open the ‚ÄòProject‚Äô menu from the main toolbar, and select ‚ÄòNew Print Layout‚Äô. In the pop-up window, create a title for your map. This can be a unique name to describe your map‚Äôs purpose such as ‚ÄúDar Sub-Wards‚Äù. A new window will be created with a blank page. This shows how your map will look printed out.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial2.gif" alt=""></p>
<p>At minimum, you will need to add the following common elements of a map to the map canvas:</p>
<ul>
<li>Map</li>
<li>Title</li>
<li>Legend</li>
<li>Scale Bar</li>
<li>North arrow</li>
</ul>
<p>Each of these elements can be added by opening the ‚ÄòAdd Item‚Äô menu on the top toolbar or by using the quick access buttons on the left-hand toolbar.</p>
<p>Add your map by selecting ‚ÄòAdd Map‚Äô from the ‚ÄòAdd Item‚Äô menu (<em>alt: use the Add Map tool from the left-hand toolbar</em>). You will need to draw the box by clicking and dragging the corners.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial3.gif" alt=""></p>
<p>Add a title to your map by selecting ‚ÄòAdd Label‚Äô from the ‚ÄòAdd Item‚Äô menu (<em>alt: use the Add Label tool from the left-hand toolbar</em>). Like the map, you will need to draw the box by clicking and dragging the corners. The default text is ‚ÄòLorem ipsum‚Äô. This can be changed in the ‚ÄòItem Properties‚Äô panel. Change the font and size of your title.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial4.gif" alt=""></p>
<p>Add a legend to your map by selecting ‚ÄòAdd Legend‚Äô from the ‚ÄòAdd Item‚Äô menu. The size of the Legend will be generated based on its contents. You can change the size as well as add or remove legend items in the ‚ÄòItem Properties‚Äô panel.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial5.gif" alt=""></p>
<p>Add a scale bar to your map by selecting ‚ÄòAdd Scalebar‚Äô from the ‚ÄòAdd Item‚Äô menu. Like the map, you will need to draw the box by clicking and dragging the corners.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial6.gif" alt=""></p>
<p>North arrow can be added by selecting ‚ÄòAdd Image‚Äô. Like the map, you will need to draw the box by clicking and dragging the corners. In the ‚ÄòItem Properties‚Äô panel, open the ‚ÄòSearch Directories‚Äô option to select from a choice of symbols.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial7.gif" alt=""></p>
<p>Move these items around your Map Canvas until you are pleased with the layout of your map. Think of your audience: will they understand the information you want to convey?</p>
<h3 id="3-saving-maps">3. Saving Maps</h3>
<p>At this stage, you can decide if you want to save the map as a single map or move on to generate an atlas. If you would like to save the current map as a stand-alone map, open the &lsquo;Layout&rsquo; Menu and select one of the &lsquo;Export as&hellip;&rsquo; options depending on your file preference.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial8.gif" alt=""></p>
<h3 id="4-atlas-generation">4. Atlas Generation</h3>
<p>After completing the layout for your map, you are ready to generate the atlas. Select the map box and in the &lsquo;Item Properties&rsquo; panel, check the box for &lsquo;Controlled by Atlas&rsquo;.</p>
<p>In the right-hand panel, select the tab for ‚ÄòAtlas generation‚Äô, near the ‚ÄòComposition‚Äô and ‚ÄòItem properties‚Äô tabs. If this tab is not appearing, select the ‚ÄòAtlas‚Äô menu from the top toolbar, then select &lsquo;Atlas Settings‚Äô.</p>
<p>In the ‚ÄòAtlas‚Äô panel, check the box next to ‚ÄòGenerate an atlas‚Äô to begin configuring your atlas.</p>
<p><img src="../../../images/advanced_qgis/atlas_tutorial9.gif" alt=""></p>
<h3 id="5-configuration">5. Configuration</h3>
<p>The configuration options in the atlas generation panel controls how the atlas is generated.</p>
<ol>
<li>The ‚ÄòCoverage layer‚Äô is the layer that contains the geographic areas of interest for your atlas. For example, for an atlas showing maps of each district you will need to select your district layer.</li>
<li>‚ÄòPage name‚Äô allows you to name pages by either selecting an attribute from the coverage layer or building an expression from attribute table values.</li>
<li>If you do not want to show all areas included in your coverage layer, ‚ÄòFilter with‚Äô allows you to filter out geographic areas that you do or do not want to include in your atlas. This option requires an expression to be built.</li>
<li>‚ÄòSort by‚Äô allows you to order your atlas by an attribute of your coverage layer.</li>
</ol>
<p><img src="../../../images/advanced_qgis/atlas_tutorial10.gif" alt=""></p>
<p><em>Practice</em></p>
<ul>
<li>Select ‚ÄòDar_sub-wards_EPSG_4326‚Äô as the coverage layer.</li>
<li>For page name, select ‚ÄòVil_Mtaa_N‚Äô. (This field is the sub-ward name.)</li>
<li>Check the box for ‚ÄòSort by‚Äô and select ‚ÄòVil_Mtaa_N‚Äô. (This field is the sub-ward name.)</li>
</ul>
<h3 id="6-atlas-toolbar-and-navigation">6. Atlas Toolbar and Navigation</h3>
<p>Once the atlas is generated, you will be able to preview and navigate through the atlas with the atlas toolbar. To navigate, first select the ‚ÄòPreview atlas‚Äô button. Changes can be made to the atlas layout while in preview mode.</p>
<h3 id="7-building-expressions-for-data-driven-text">7. Building expressions for data-driven text</h3>
<p>Expressions allow for text such as labels and titles to be data-driven, or generated from attributes. When working with an atlas, expressions take attributes from the coverage layer.</p>
<ol>
<li>Text that is not data driven should be written within single quote marks. Example: ‚ÄòMap‚Äô</li>
<li>Spaces between words should be indicated with a space within single quote marks. Example:   ‚ÄòMap of ‚Äô</li>
<li>Selected values and plain text need to be separated by the operator ‚Äò||‚Äô. This operator can be typed or selected from the ‚ÄòOperators‚Äô list. Example: ‚ÄòMap of‚Äô ||</li>
<li>Data-driven text, or text that is generated from attributes, can be selected from the ‚ÄòFields and Values‚Äô list. Example: ‚ÄòMap of ‚Äô || ‚ÄúWard_Name‚Äù</li>
<li>An ‚ÄòOutput preview‚Äô will generate at the bottom of the expression builder window.</li>
</ol>
<p><img src="../../../images/advanced_qgis/atlas_tutorial11.gif" alt=""></p>
<p><em>Practice</em></p>
<ul>
<li>
<p>Select or create your title box and select ‚ÄúInsert expression‚Äù in the ‚ÄòItem Properties‚Äô panel.</p>
</li>
<li>
<p>Use the ‚ÄòFields and Values‚Äô list to generate the following expression:</p>
<p>&ldquo;Vil_Mtaa_N&rdquo; || &lsquo;, ' ||  &ldquo;Ward_Name&rdquo;</p>
</li>
<li>
<p>Check the output preview to make sure the expression was typed correctly.</p>
</li>
</ul>
<h3 id="7-inverse-polygon-layer">7. Inverse polygon layer</h3>
<p>Adding an inverse polygon layer can focus the map by shading out or completely covering features outside your area of interest.</p>
<ol>
<li>Return to the main QGIS window.</li>
<li>Select the layer used as the coverage layer in the Print Composer. Right-click and select ‚ÄòDuplicate‚Äô</li>
<li>Right-click on the layer copy and select rename. Rename the layer.</li>
<li>Right-click on the layer and open properties. Select ‚ÄòStyle‚Äô from the side menu.</li>
<li>In the top drop-down menu, select ‚ÄòInverted polygons‚Äô.</li>
<li>Under ‚ÄòSub renderer:‚Äô, select ‚ÄòRule-based‚Äô from the drop down menu.</li>
<li>In the rules list window, double click on ‚Äò(no filter)‚Äô to open the ‚ÄòEdit rule‚Äô window.</li>
<li>In the ‚ÄòEdit rule‚Äô window, select the ‚Äò&hellip;‚Äô button to create a filter. An expression builder will open. In the expression window, type or build from the Variable list: $id=@atlas_featureid</li>
<li>In the ‚ÄòEdit rule‚Äô window, make sure that the symbol type is Simple Fill.</li>
<li>Change the transparency to 50%.</li>
<li>Change the color to dark grey.</li>
<li>Click ‚ÄòOk‚Äô to exit all option windows.</li>
</ol>
<p><img src="../../../images/advanced_qgis/atlast_inverse_poly0.gif" alt=""></p>
<p><em>Practice</em>:</p>
<ul>
<li>Complete all steps above.</li>
<li>For step 2, this will be the ‚ÄúDar_sub-wards_EPSG_4326‚Äù layer.</li>
<li>For step 3, rename the file ‚Äúinverse_sub-wards‚Äù.</li>
</ul>
<h3 id="8-adding-overview-maps">8. Adding overview maps</h3>
<p>Overview maps allow the audience to understand the map‚Äôs focal location within the context of a larger area. For example, an overview map may show a ward‚Äôs location within the city. In QGIS, an overview map can be created that will automatically show the map location for each atlas page.</p>
<ol>
<li>In the main QGIS window, select the layers you would like to have in the overview map. These should typically be layers that can be viewed easily on a small scale (i.e. boundaries, highways, waterways). Multiple layers can be selected at a time by holding Ctrl on your keyboard while selecting.</li>
<li>Right-click on these layers and select ‚ÄòDuplicate‚Äô.</li>
<li>Select all of the copied layers. Right-click and select ‚ÄòGroup Selected‚Äô. This allows for better data management and makes it easier to turn groups of layers on and off depending on the map needs.</li>
<li>Right-click on this group and rename it ‚ÄòOverview Map‚Äô</li>
<li>Turn on all grouped layers and turn off all others by clicking the check boxes next to the layer names.</li>
<li>Return to your Print Composer.</li>
<li>Open the ‚ÄòLayout‚Äô menu from the top toolbar and select ‚ÄòAdd map‚Äô. Draw a small box for your overview map.</li>
<li>Go to the ‚ÄòItem Properties‚Äô panel for the second map and open the ‚ÄòOverviews‚Äô options.</li>
<li>Click the green ‚Äò+‚Äô button to add an overview.</li>
<li>For ‚ÄòMap frame‚Äô, select ‚ÄòMap 0‚Äô from the drop down menu.</li>
<li>‚ÄòFrame style‚Äô will allow you to change the color, outline, and transparency of the map frame.</li>
<li>In the ‚ÄòItems Properties‚Äô panel, open the ‚ÄòLayers‚Äô option and select ‚ÄòLock layers‚Äô. This will keep the limited layers while allowing for the main map to show all layers.</li>
<li>Return to the Main QGIS window. Turn off all grouped overview layers and turn on the other layers.</li>
</ol>
<p><em>Practice</em></p>
<ul>
<li>Follow all steps above.</li>
<li>For Step 1, select the layers ‚ÄòDar_wards_EPSG_4326 copy‚Äô, ‚ÄòDar_sub-wards_EPSG_ 4326 copy‚Äô, and ‚ÄòWard_grey_background copy‚Äô.‚Äô</li>
</ul>
<h3 id="9-atlas-review">9. Atlas Review</h3>
<p>After completing the layout and atlas generation, it is important to check each page of the atlas for correct expression generation (i.e. all pages are correctly titled) and that the appearance of layers and labels in each map appear correctly. If there is a large difference between map scales for different pages, styles, labels, grids, and other factors may need to be adjusted to best suit all map scales.</p>
<p><em>Practice:</em></p>
<ul>
<li>Use the ‚ÄòAtlas toolbar‚Äô to navigate through your atlas pages.</li>
<li>For each page, check:
<ul>
<li>Map layer visibility</li>
<li>Label visibility</li>
<li>Expression-driven text (i.e. title, additional text boxes)</li>
<li>Scalebar size and placement</li>
</ul>
</li>
</ul>
<h3 id="10-output-filename-expression">10. Output filename expression</h3>
<p>Prior to exporting the atlas, an output filename expression needs to be built. This expression will determine the name for each page of the exported atlas files. See ‚ÄòBuilding expressions‚Äô for instructions on building expressions.</p>
<p>The default expression is ‚Äòoutput_‚Äô||@atlas_featurenumber which will produce a filename such as ‚ÄúOutput 3‚Äù. This can be changed to create a more accurate filename for your maps.</p>
<p><em>Practice:</em></p>
<ul>
<li>Select the expression builder button</li>
<li>Build the expression: &ldquo;District_N&rdquo; || &lsquo;<em>&rsquo; ||  &ldquo;Ward_Name&rdquo; || &lsquo;</em>&rsquo; ||  &ldquo;Vil_Mtaa_N&rdquo;</li>
<li>Check the output preview at the bottom of the expression builder to make sure that the expression has been built correctly.</li>
</ul>
<h3 id="11-exporting-atlas">11. Exporting Atlas</h3>
<p>To export the atlas, select the ‚ÄòExport Atlas‚Äô button in the Atlas tool bar. Select the appropriate file type (Export as Images, Export as SVG, or Export as PDF) and select the folder where the files will be exported to.</p>
<h3 id="12-atlas-templates">12. Atlas Templates</h3>
<p>Atlas templates can be saved and added to other QGIS projects. To save a template, open the ‚ÄòProject‚Äô menu from the top toolbar and select ‚ÄòSave as Template‚Äô. This will save as a Composer Template (*.qpt *.QPT) file.</p>
<p>To add the template to another project, open a new print composer. Open the ‚ÄòProject‚Äô menu from the top toolbar and select ‚ÄòAdd items from Template‚Äô. Note: items will be sized to the original document page size. Item sizes may need to be adjusted if the new project is using a different page size.</p>
</div>




    

    

    

    

    

    

    

    
     
    

    





<a class="next-page" href="../../../pages/data-use-and-analysis/7.3_web_and_interactive_maps/">
    <div class="next-page__container">
            <div class="sub-title sub-title-10">READ NEXT</div>
            <div class="next-title">7.3 Web &amp; Interactive Maps</div>
    </div>
    <img src="../../../svg/forward-arrow.svg" alt="">
</a>

</div></main>
    <aside class="toc"><div class="toc__container">
    
    
    
    
    <div class="toc-list">
        <h4 class="sub-title sub-title-10">ON THIS PAGE</h4>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#resources-and-training-materials">Resources and Training Materials</a>
      <ul>
        <li><a href="#1-preparing-map-data">1. Preparing map data</a></li>
        <li><a href="#2-creating-a-map-layout-in-print-layout">2. Creating a Map Layout in Print Layout</a></li>
        <li><a href="#3-saving-maps">3. Saving Maps</a></li>
        <li><a href="#4-atlas-generation">4. Atlas Generation</a></li>
        <li><a href="#5-configuration">5. Configuration</a></li>
        <li><a href="#6-atlas-toolbar-and-navigation">6. Atlas Toolbar and Navigation</a></li>
        <li><a href="#7-building-expressions-for-data-driven-text">7. Building expressions for data-driven text</a></li>
        <li><a href="#7-inverse-polygon-layer">7. Inverse polygon layer</a></li>
        <li><a href="#8-adding-overview-maps">8. Adding overview maps</a></li>
        <li><a href="#9-atlas-review">9. Atlas Review</a></li>
        <li><a href="#10-output-filename-expression">10. Output filename expression</a></li>
        <li><a href="#11-exporting-atlas">11. Exporting Atlas</a></li>
        <li><a href="#12-atlas-templates">12. Atlas Templates</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
    <hr class="toc-divider">
    
    
    <a href="https://github.com/hotosm/toolbox/edit/master/content/en/pages/data-use-and-analysis/7.2-Creating-an-Atlas-in-QGIS.md" class="sub-title sub-title-12 toc-item"> <img src="../../../svg/pencil.svg" class="edit-icon" alt="">Edit this page on Github</a>
    <a 
    
    href="../../../pdfs/en/7.2-Creating-an-Atlas-in-QGIS.pdf"
    
    class="sub-title sub-title-12 toc-item"> <img src="../../../svg/download.svg" class="download-icon" alt="">Download this page</a>
</div></aside>
</div>
<script src="../../../js/main.js"></script>
<script src="../../../js/search.js"></script>
<script src="../../../js/toc.js"></script></body>
</html>
